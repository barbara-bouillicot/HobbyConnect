<div class="container">
  <h1 style="font-family: 'Blueberry', sans-serif; color: #d5aaff;">All users</h1>

  <%= form_tag users_path, method: :get, class: "searchbar" do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search Users", class: "search-input" %>
    <%= button_tag type: 'submit', class: "search-button" do %>
      <i class="fa-solid fa-magnifying-glass"></i>
    <% end %>
  <% end %>

  <div class="user-cards-container">
    <% @users.each do |user| %>
      <div class="user-card">
        <div class="avatar-link">
          <%= link_to user_path(user) do %>
            <% if user.photo.attached? %>
              <%= image_tag rails_blob_url(user.photo), class: "avatar bigger-avatar" %>
            <% else %>
              <%= image_tag "default_avatar.jpg", class: "avatar bigger-avatar" %>
            <% end %>
          <% end %>
        </div>
        <div class="user-details">
          <h2><%= link_to user.username, user_path(user) %></h2>
          <div>
            <div class="user-hobby-icons-container">
              <% user.hobbies.each do |hobby| %>
                <div class="user-hobby-icon-bg">
                <% if hobby.photo.attached? %>
                  <%= cl_image_tag hobby.photo.key, class: "user-hobby-icons" %>
                  </div>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
